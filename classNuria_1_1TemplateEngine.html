<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>NuriaProject Framework: Nuria::TemplateEngine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NuriaProject Framework
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">The NuriaProject Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Modules</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Nuria</b></li><li class="navelem"><a class="el" href="classNuria_1_1TemplateEngine.html">TemplateEngine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classNuria_1_1TemplateEngine-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Nuria::TemplateEngine Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Templating engine for rendering Twig code.  
 <a href="classNuria_1_1TemplateEngine.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="templateengine_8hpp_source.html">templateengine.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Nuria::TemplateEngine:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classNuria_1_1TemplateEngine.png" usemap="#Nuria::TemplateEngine_map" alt=""/>
  <map id="Nuria::TemplateEngine_map" name="Nuria::TemplateEngine_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a021a5301b092a65f7118aafb9dc2955c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a021a5301b092a65f7118aafb9dc2955c">TemplateEngine</a> (QObject *parent=0)</td></tr>
<tr class="separator:a021a5301b092a65f7118aafb9dc2955c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995d95fba9ecb048df3f0dd2e49e9dda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a995d95fba9ecb048df3f0dd2e49e9dda">~TemplateEngine</a> () override</td></tr>
<tr class="separator:a995d95fba9ecb048df3f0dd2e49e9dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf682634c52e1967eb7006157e89805b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#abf682634c52e1967eb7006157e89805b">addFunction</a> (const QString &amp;name, const <a class="el" href="classNuria_1_1Callback.html">Callback</a> &amp;function, bool isConstant=false)</td></tr>
<tr class="separator:abf682634c52e1967eb7006157e89805b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f519c2a4be9aff55fe7b3d10bf5c831"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a3f519c2a4be9aff55fe7b3d10bf5c831">currentCacheSize</a> () const </td></tr>
<tr class="separator:a3f519c2a4be9aff55fe7b3d10bf5c831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b931643bd90b41ba42d5c27a2d0f41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#af8b931643bd90b41ba42d5c27a2d0f41">flushCache</a> ()</td></tr>
<tr class="separator:af8b931643bd90b41ba42d5c27a2d0f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3963f88f9ea2da1e9c7ade7bec84790"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#aa3963f88f9ea2da1e9c7ade7bec84790">hasFunction</a> (const QString &amp;name)</td></tr>
<tr class="separator:aa3963f88f9ea2da1e9c7ade7bec84790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c9d3690e92f4d08e1f9d7655c62eda6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a7c9d3690e92f4d08e1f9d7655c62eda6">isProgramOutdated</a> (const <a class="el" href="classNuria_1_1TemplateProgram.html">TemplateProgram</a> &amp;<a class="el" href="classNuria_1_1TemplateEngine.html#a6d9e4ff3528bbd409ae73c24859558a3">program</a>)</td></tr>
<tr class="separator:a7c9d3690e92f4d08e1f9d7655c62eda6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea18684a08291c4f9abf32a75e1e6a02"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#aea18684a08291c4f9abf32a75e1e6a02">isTemplateInCache</a> (const QString &amp;templateName) const </td></tr>
<tr class="separator:aea18684a08291c4f9abf32a75e1e6a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29aa7e9bde3946add8fd46308a225688"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNuria_1_1TemplateError.html">TemplateError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a29aa7e9bde3946add8fd46308a225688">lastError</a> () const </td></tr>
<tr class="separator:a29aa7e9bde3946add8fd46308a225688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a742de90bc8f8ebf675c57fafb6a76401"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNuria_1_1TemplateLoader.html">TemplateLoader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a742de90bc8f8ebf675c57fafb6a76401">loader</a> () const </td></tr>
<tr class="separator:a742de90bc8f8ebf675c57fafb6a76401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3be204bcef8c96968fc739ae0398cce"><td class="memItemLeft" align="right" valign="top">QLocale&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#ac3be204bcef8c96968fc739ae0398cce">locale</a> () const </td></tr>
<tr class="separator:ac3be204bcef8c96968fc739ae0398cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b648f64778beabf5248cbe813e8337"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a56b648f64778beabf5248cbe813e8337">maxCacheSize</a> () const </td></tr>
<tr class="separator:a56b648f64778beabf5248cbe813e8337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ab78ef7eaff718e2401f3c6a036c20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a19ab78ef7eaff718e2401f3c6a036c20">mergeValues</a> (const QVariantMap &amp;map)</td></tr>
<tr class="separator:a19ab78ef7eaff718e2401f3c6a036c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d9e4ff3528bbd409ae73c24859558a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNuria_1_1TemplateProgram.html">TemplateProgram</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a6d9e4ff3528bbd409ae73c24859558a3">program</a> (const QString &amp;templateName)</td></tr>
<tr class="separator:a6d9e4ff3528bbd409ae73c24859558a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b6f384302941a3e1a138ce6b3e6049"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a18b6f384302941a3e1a138ce6b3e6049">render</a> (const QString &amp;templateName)</td></tr>
<tr class="separator:a18b6f384302941a3e1a138ce6b3e6049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeee56d0eee8be58d3721fcf1e6eb820"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#aeeee56d0eee8be58d3721fcf1e6eb820">setLoader</a> (<a class="el" href="classNuria_1_1TemplateLoader.html">TemplateLoader</a> *<a class="el" href="classNuria_1_1TemplateEngine.html#a742de90bc8f8ebf675c57fafb6a76401">loader</a>)</td></tr>
<tr class="separator:aeeee56d0eee8be58d3721fcf1e6eb820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ace60798d5e8ecc32f64d3c2ab9544"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#aa5ace60798d5e8ecc32f64d3c2ab9544">setLocale</a> (const QLocale &amp;<a class="el" href="classNuria_1_1TemplateEngine.html#ac3be204bcef8c96968fc739ae0398cce">locale</a>)</td></tr>
<tr class="separator:aa5ace60798d5e8ecc32f64d3c2ab9544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52531b81e4d9c75de43dd6183442361f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a52531b81e4d9c75de43dd6183442361f">setMaxCacheSize</a> (int size)</td></tr>
<tr class="separator:a52531b81e4d9c75de43dd6183442361f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a946652e45f7753bedda7f3338734002c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a946652e45f7753bedda7f3338734002c">setValue</a> (const QString &amp;name, const QVariant &amp;<a class="el" href="classNuria_1_1TemplateEngine.html#a293989121fe2f28116c0b2e9bcbe37e1">value</a>)</td></tr>
<tr class="separator:a946652e45f7753bedda7f3338734002c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf1930ae547c5d22a9ab503baf11a14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#aecf1930ae547c5d22a9ab503baf11a14">setValues</a> (const QVariantMap &amp;map)</td></tr>
<tr class="separator:aecf1930ae547c5d22a9ab503baf11a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293989121fe2f28116c0b2e9bcbe37e1"><td class="memItemLeft" align="right" valign="top">QVariant&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#a293989121fe2f28116c0b2e9bcbe37e1">value</a> (const QString &amp;name) const </td></tr>
<tr class="separator:a293989121fe2f28116c0b2e9bcbe37e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff1eb6d94a147a2c4eea76fe82594cf"><td class="memItemLeft" align="right" valign="top">QVariantMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNuria_1_1TemplateEngine.html#abff1eb6d94a147a2c4eea76fe82594cf">values</a> () const </td></tr>
<tr class="separator:abff1eb6d94a147a2c4eea76fe82594cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Templating engine for rendering Twig code. </p>
<p>This is a templating engine capable of rendering Twig code. Twig is a template language popular in PHP and is developed by SensioLabs at <a href="http://twig.sensiolabs.org/">http://twig.sensiolabs.org/</a></p>
<p>It features a rich amount of possibilities to efficiently write templates especially for HTML pages, though in its core it's target agnostic, meaning you could also e.g. write templates for INI files.</p>
<p>For a beginners tutorial, please go to <a href="http://twig.sensiolabs.org/doc/templates.html">http://twig.sensiolabs.org/doc/templates.html</a></p>
<dl class="section note"><dt>Note</dt><dd>The implementation is based on Twig version 1.16.0</dd></dl>
<dl class="section user"><dt>Features</dt><dd></dd></dl>
<p>Supported features:</p>
<ul>
<li>Twig command blocks, expansions and comments</li>
<li>Flow control and loops (if, for)</li>
<li>All operators</li>
<li>All tags, commands, filters and functions if not noted otherwise</li>
<li>Accessing fields and methods in maps, lists, QObjects and structures registered to the Nuria meta system</li>
</ul>
<p>Unsupported features are:</p>
<ul>
<li>The use command</li>
<li>verbatim and sandbox blocks.</li>
<li>The convert_encoding() filter. Everything is UTF-8.</li>
<li>macros</li>
<li>attribute() - Please use the square-braces syntax instead.</li>
<li>The date_modify filter.</li>
<li>The format filter.</li>
<li>The raw filter.</li>
<li>The constant() test function.</li>
<li>The sameas/same as test function is obsolete, as == is the same.</li>
<li>Binary operations</li>
<li>The flush command, as it wouldn't do anything at all.</li>
<li>The source() function.</li>
<li>The slice() shorthand notation "[x:y]"</li>
</ul>
<p>Implementation differences:</p>
<ul>
<li>Input is always considered to be UTF-8</li>
<li>Template names in include and extends commands <b>must</b> be constant</li>
<li>Include and extends only support the basic form of {% include/extends "foo" %}</li>
<li>The date filter expects a QDateTime or string in the Qt::TextDate format in the C locale.</li>
<li>The date filter does not support the timezone argument.</li>
<li>The format string for the date filter is optional. It defaults to the locale long format.</li>
<li>The json_encode filter does not support additional arguments.</li>
<li>The url_encode filter does not support the 'rawurlencode' bool argument.</li>
<li>The reverse filter doesn't support maps.</li>
<li>"!", "&amp;&amp;" and "||" are aliases for "not", "and" and "or" respectively.</li>
<li>The == operator is equivalent to PHPs ===.</li>
<li>The matches test uses QRegularExpression syntax.</li>
<li>The 'loop.parent' variable inside for-loops only contains a 'loop' variable.</li>
</ul>
<dl class="section user"><dt>Performance</dt><dd></dd></dl>
<p>The internal AST is not transformed to C++ nor JIT'ed. The only real but powerful optimization done is constant folding. Thus, Twig code like </p><div class="fragment"><div class="line">{% <span class="keywordflow">if</span> 1 &gt; 2 %}</div>
<div class="line">Foo</div>
<div class="line">{% <span class="keywordflow">else</span> %}</div>
<div class="line">Bar</div>
<div class="line">{% endif %}</div>
</div><!-- fragment --><p>Is optimized to simply "Bar". If a template were to only consist out of such constant constructs, it is folded into a single QString. Thus, to use <a class="el" href="classNuria_1_1TemplateEngine.html" title="Templating engine for rendering Twig code. ">TemplateEngine</a> as constant folding calculator, you could do: </p><div class="fragment"><div class="line">nDebug() &lt;&lt; <a class="code" href="classNuria_1_1TemplateEngine.html#a021a5301b092a65f7118aafb9dc2955c">TemplateEngine</a> ().render (<span class="stringliteral">&quot;{{ 1 + 2 }}&quot;</span>);</div>
</div><!-- fragment --><dl class="section user"><dt>Caching of programs</dt><dd></dd></dl>
<p>Another optimization worth noting is that programs are cached. You can control this behaviour using <a class="el" href="classNuria_1_1TemplateEngine.html#a52531b81e4d9c75de43dd6183442361f">setMaxCacheSize()</a>.</p>
<dl class="section user"><dt>Variable inheritance and strictness</dt><dd></dd></dl>
<p>This engine will always, even if only internally, generate instances of <a class="el" href="classNuria_1_1TemplateProgram.html" title="Represents a compiled Twig code program. ">TemplateProgram</a>. To provide a balanced mix between ease of use and performance, this class can pass on variables to all generated programs.</p>
<p>In simpler words, all variables you set to a <a class="el" href="classNuria_1_1TemplateEngine.html" title="Templating engine for rendering Twig code. ">TemplateEngine</a> will be automatically set in all generated programs. Changing variables of the engine will <b>not</b> affect already generated programs.</p>
<p>You can use this to e.g. set company or product specific variables which are used in all templates and set template-specific variables in the <a class="el" href="classNuria_1_1TemplateProgram.html" title="Represents a compiled Twig code program. ">TemplateProgram</a>.</p>
<p>Please note that this implementation of a Twig engine is pretty strict when it comes to variables and functions. All functions referenced by a template must be present when the template is loaded. Variables must be present upon rendering.</p>
<p>If a function or a variable is missing, by default, a error will be issued and the operation is cancelled.</p>
<dl class="section user"><dt>Variable access</dt><dd></dd></dl>
<p>The engine supports all C++ POD types and QVariantList and QVariantMap, including all types being accessible through QSequentialIterable and QAssociativeIterable.</p>
<p>QObjects are supported too, but only access to properties is provided. Objects registered to the Nuria meta system support access to fields and methods, though the first method is always chosen when the method is overloaded.</p>
<dl class="section user"><dt>Custom functions</dt><dd></dd></dl>
<p>It's possible to register custom functions using the <a class="el" href="classNuria_1_1TemplateEngine.html#abf682634c52e1967eb7006157e89805b">addFunction()</a> method. It's also possible for the <a class="el" href="classNuria_1_1TemplateEngine.html" title="Templating engine for rendering Twig code. ">TemplateEngine</a> version to define a function as constant, meaning that for the same arguments they produce the same result. This will enable the internal compiler to optimize functions, which are constant, meaning they'll be invoked at compile-time.</p>
<p>This can also be used to register custom filters. A filter will simply be passed the result of the previous statement as first argument. All additional arguments are then passed after that.</p>
<p>Example: "foo|bar(1,2)" is equivalent to "bar(foo,1,2)".</p>
<dl class="section user"><dt>Locale</dt><dd></dd></dl>
<p>Locale-dependent functions will use the application-wide default locale by default. You can also set this using <a class="el" href="classNuria_1_1TemplateEngine.html#aa5ace60798d5e8ecc32f64d3c2ab9544">setLocale()</a> on the template engine or program.</p>
<dl class="section warning"><dt>Warning</dt><dd><a class="el" href="classNuria_1_1TemplateEngine.html#aa5ace60798d5e8ecc32f64d3c2ab9544">setLocale()</a> has no effect on cached programs. To force this, call <a class="el" href="classNuria_1_1TemplateEngine.html#af8b931643bd90b41ba42d5c27a2d0f41">flushCache()</a> afterwards. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a021a5301b092a65f7118aafb9dc2955c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Nuria::TemplateEngine::TemplateEngine </td>
          <td>(</td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor. </p>

</div>
</div>
<a class="anchor" id="a995d95fba9ecb048df3f0dd2e49e9dda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Nuria::TemplateEngine::~TemplateEngine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abf682634c52e1967eb7006157e89805b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nuria::TemplateEngine::addFunction </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classNuria_1_1Callback.html">Callback</a> &amp;&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isConstant</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds <em>function</em>, making it known as <em>name</em>. Functions that are constant, meaning that for the same arguments they always output the same result, should set <em>isConstant</em> to <code>true</code> to make it subject for constant folding during the compilation step.</p>
<dl class="section note"><dt>Note</dt><dd>Built-in functions can not be overridden. </dd></dl>

</div>
</div>
<a class="anchor" id="a3f519c2a4be9aff55fe7b3d10bf5c831"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Nuria::TemplateEngine::currentCacheSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the amount of currently cached programs. </p>

</div>
</div>
<a class="anchor" id="af8b931643bd90b41ba42d5c27a2d0f41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nuria::TemplateEngine::flushCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears the program cache. </p>

</div>
</div>
<a class="anchor" id="aa3963f88f9ea2da1e9c7ade7bec84790"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Nuria::TemplateEngine::hasFunction </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns <code>true</code>, if there's a user-defined function called <em>name</em>. </p>

</div>
</div>
<a class="anchor" id="a7c9d3690e92f4d08e1f9d7655c62eda6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Nuria::TemplateEngine::isProgramOutdated </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classNuria_1_1TemplateProgram.html">TemplateProgram</a> &amp;&#160;</td>
          <td class="paramname"><em>program</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if <em>program</em> is outdated, meaning, if the templates it consists of were modified after <em>program</em> was compiled. </p>

</div>
</div>
<a class="anchor" id="aea18684a08291c4f9abf32a75e1e6a02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Nuria::TemplateEngine::isTemplateInCache </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>templateName</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns <code>true</code> if <em>templateName</em> is already cached. </p>

</div>
</div>
<a class="anchor" id="a29aa7e9bde3946add8fd46308a225688"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNuria_1_1TemplateError.html">TemplateError</a> Nuria::TemplateEngine::lastError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the last occured error. </p><dl class="section note"><dt>Note</dt><dd><a class="el" href="classNuria_1_1TemplateEngine.html#a18b6f384302941a3e1a138ce6b3e6049">render()</a> clears this. </dd></dl>

</div>
</div>
<a class="anchor" id="a742de90bc8f8ebf675c57fafb6a76401"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNuria_1_1TemplateLoader.html">TemplateLoader</a>* Nuria::TemplateEngine::loader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the used template loader. </p>

</div>
</div>
<a class="anchor" id="ac3be204bcef8c96968fc739ae0398cce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QLocale Nuria::TemplateEngine::locale </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the default locale for programs. If not set, this is equivalent to the default application-wide QLocale. </p>

</div>
</div>
<a class="anchor" id="a56b648f64778beabf5248cbe813e8337"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Nuria::TemplateEngine::maxCacheSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the maximum count of programs to be cached. </p>

</div>
</div>
<a class="anchor" id="a19ab78ef7eaff718e2401f3c6a036c20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nuria::TemplateEngine::mergeValues </td>
          <td>(</td>
          <td class="paramtype">const QVariantMap &amp;&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Merges <em>map</em> with the internal value map.</p>
<p>All values of <em>map</em> will be inserted into the internal map, overriding the internal one if a key already exists. </p>

</div>
</div>
<a class="anchor" id="a6d9e4ff3528bbd409ae73c24859558a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNuria_1_1TemplateProgram.html">TemplateProgram</a> Nuria::TemplateEngine::program </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>templateName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads and compiles a Twig template called <em>templateName</em> and returns a <a class="el" href="classNuria_1_1TemplateProgram.html" title="Represents a compiled Twig code program. ">TemplateProgram</a>, which can be cached by the user if wanted. The program will be prepopulated with the variables set to the engine.</p>
<dl class="section note"><dt>Note</dt><dd>A <a class="el" href="classNuria_1_1TemplateProgram.html" title="Represents a compiled Twig code program. ">TemplateProgram</a> is <b>not</b> dependent on a <a class="el" href="classNuria_1_1TemplateEngine.html" title="Templating engine for rendering Twig code. ">TemplateEngine</a>. </dd>
<dd>
Caching does not interfer with the variable being passed on to the program! </dd></dl>

</div>
</div>
<a class="anchor" id="a18b6f384302941a3e1a138ce6b3e6049"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString Nuria::TemplateEngine::render </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>templateName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads the template <em>templateName</em> and renders it into a string. If <em>templateName</em> is unknown, an empty string is returned.</p>
<p>Same as: </p><div class="fragment"><div class="line">myTemplateEngine-&gt;program (<span class="stringliteral">&quot;foo&quot;</span>).render ();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="aeeee56d0eee8be58d3721fcf1e6eb820"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nuria::TemplateEngine::setLoader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNuria_1_1TemplateLoader.html">TemplateLoader</a> *&#160;</td>
          <td class="paramname"><em>loader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replaces the currently used template loader. Ownership of <em>loader</em> is transferred to the environment. </p>

</div>
</div>
<a class="anchor" id="aa5ace60798d5e8ecc32f64d3c2ab9544"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nuria::TemplateEngine::setLocale </td>
          <td>(</td>
          <td class="paramtype">const QLocale &amp;&#160;</td>
          <td class="paramname"><em>locale</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the locale for programs. </p>

</div>
</div>
<a class="anchor" id="a52531b81e4d9c75de43dd6183442361f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nuria::TemplateEngine::setMaxCacheSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resizes the internal cache to <em>size</em>. If <em>size</em> is <code>0</code>, the cache is effectively disabled. </p>

</div>
</div>
<a class="anchor" id="a946652e45f7753bedda7f3338734002c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nuria::TemplateEngine::setValue </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QVariant &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inserts <em>value</em> as <em>name</em> into the value map of the engine. </p>

</div>
</div>
<a class="anchor" id="aecf1930ae547c5d22a9ab503baf11a14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nuria::TemplateEngine::setValues </td>
          <td>(</td>
          <td class="paramtype">const QVariantMap &amp;&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the values to <em>map</em>, replacing the internal one. </p>

</div>
</div>
<a class="anchor" id="a293989121fe2f28116c0b2e9bcbe37e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QVariant Nuria::TemplateEngine::value </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the value of <em>name</em>. </p>

</div>
</div>
<a class="anchor" id="abff1eb6d94a147a2c4eea76fe82594cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QVariantMap Nuria::TemplateEngine::values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the map of values to render templates. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="templateengine_8hpp_source.html">templateengine.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 5 2014 20:26:24 for NuriaProject Framework by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
